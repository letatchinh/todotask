{"ast":null,"code":"import _slicedToArray from\"/Users/royalsmr/Desktop/listtodo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Button from'@atlaskit/button';import Card from'./Card';import AddNew from'./AddNew';import{v4}from'uuid';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Body(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),render=_useState2[0],setRender=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),active=_useState6[0],setActive=_useState6[1];var _useState7=useState(data.length),_useState8=_slicedToArray(_useState7,2),page=_useState8[0],setPage=_useState8[1];var tempData=JSON.parse(localStorage.getItem('data'));var limit=12;var limitPage=4;console.log(\"data\",page);var pageNav=[];for(var i=1;i<=page;i++){pageNav.push(i);}// setTempPage(pageNav)\nvar _useState9=useState(pageNav),_useState10=_slicedToArray(_useState9,2),tempPage=_useState10[0],setTempPage=_useState10[1];console.log(\"page\",pageNav);var onHandleChangeStatus=function onHandleChangeStatus(e,index){var temp=e;switch(temp.status2){case\"Doing\":temp.status2='Done';break;case\"Done\":temp.status2='New';break;case\"New\":temp.status2='Doing';break;default:break;}tempData.splice(index,1,temp);localStorage.setItem('data',JSON.stringify(tempData));setRender(!render);};var onHandleChangePage=function onHandleChangePage(e){var start=limit*e;var end=start+limit;setData(tempData.slice(start,end));setActive(e);// if(e === tempPage.length - 1){\n//   setTempPage(pageNav.slice(e-1,limitPage + e))\n// }\n};var onHandleChangeNewTask=function onHandleChangeNewTask(){setData(tempData.filter(function(e){return e.status2===\"New\";}));};var onHandlePreClick=function onHandlePreClick(){if(active===0)return;else onHandleChangePage(active-1);};var onHandleNextClick=function onHandleNextClick(){if(active===pageNav.length-1)return;else onHandleChangePage(active+1);};var onHandleChangeAllTask=function onHandleChangeAllTask(){setData(tempData);};var onHandleChangeDoingTask=function onHandleChangeDoingTask(){setData(tempData.filter(function(e){return e.status2===\"Doing\";}));};var onHandleChangeDoneTask=function onHandleChangeDoneTask(){setData(tempData.filter(function(e){return e.status2===\"Done\";}));};useEffect(function(){setData(localStorage.getItem('data')?JSON.parse(localStorage.getItem('data')):[]);setData(tempData.slice(0,limit));// setActive(0)\n// if(pageNav.length > limitPage){\n//   setTempPage(pageNav.slice(0,limitPage))\n//   }\nsetPage(JSON.parse(localStorage.getItem('data')).length%limit===0?JSON.parse(localStorage.getItem('data')).length/limit:Math.floor(JSON.parse(localStorage.getItem('data')).length/limit)+1);console.log(\"load\");},[localStorage.getItem('data')]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:\"200px\"},children:[/*#__PURE__*/_jsx(Button,{onClick:onHandleChangeAllTask,appearance:\"warning\",shouldFitContainer:true,children:\"All Task\"}),/*#__PURE__*/_jsx(Button,{onClick:onHandleChangeNewTask,appearance:\"warning\",shouldFitContainer:true,children:\"New Task\"}),/*#__PURE__*/_jsx(Button,{onClick:onHandleChangeDoingTask,appearance:\"warning\",shouldFitContainer:true,children:\"Doing Task\"}),/*#__PURE__*/_jsx(Button,{onClick:onHandleChangeDoneTask,appearance:\"warning\",shouldFitContainer:true,children:\"Done Task\"})]}),/*#__PURE__*/_jsx(AddNew,{click:props.click,display2:props.status?\"none\":\"block\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-wrap p-3 gap-3 w-75\",style:{display:props.status?\"flex\":\"none\"},children:data.map(function(e,index){return/*#__PURE__*/_jsx(Card,{click:function click(){return onHandleChangeStatus(e,index);},status2:e.status2,title:e.title,Creator:e.Creator,Description:e.Description},v4());})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Button,{onClick:onHandlePreClick,children:\"Pre\"}),pageNav.map(function(e,index){return/*#__PURE__*/_jsx(Button,{style:{background:index===active?\"red\":\"none\"},onClick:function onClick(){return onHandleChangePage(index);},className:\"mx-2\",children:e},v4());}),/*#__PURE__*/_jsx(Button,{onClick:onHandleNextClick,children:\"Next\"})]})]});}","map":{"version":3,"names":["React","useEffect","useState","Button","Card","AddNew","v4","Body","props","render","setRender","data","setData","active","setActive","length","page","setPage","tempData","JSON","parse","localStorage","getItem","limit","limitPage","console","log","pageNav","i","push","tempPage","setTempPage","onHandleChangeStatus","e","index","temp","status2","splice","setItem","stringify","onHandleChangePage","start","end","slice","onHandleChangeNewTask","filter","onHandlePreClick","onHandleNextClick","onHandleChangeAllTask","onHandleChangeDoingTask","onHandleChangeDoneTask","Math","floor","width","click","status","display","map","title","Creator","Description","background"],"sources":["/Users/royalsmr/Desktop/listtodo/src/component/Body.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Button from '@atlaskit/button';\nimport Card from './Card';\nimport AddNew from './AddNew';\nimport { v4 } from 'uuid';\nexport default function Body(props) {\n  const [render,setRender] = useState(true);\n  const [data,setData] = useState([]);\n  const [active,setActive] = useState();\n  const [page,setPage] = useState(data.length);\n  let tempData = JSON.parse(localStorage.getItem('data'));\n  let limit =  12;\n  let limitPage = 4;\n  console.log(\"data\",page);\n  let pageNav = [];\n  for(let i = 1 ; i <= page ; i++){\n    pageNav.push(i)\n  }\n  // setTempPage(pageNav)\n  const [tempPage,setTempPage] = useState(pageNav);\n  console.log(\"page\",pageNav);\n  const onHandleChangeStatus = (e,index) => {\n    const temp = e;\n  switch (temp.status2) {\n    case  \"Doing\":\n      temp.status2 = 'Done'\n      break;\n    case  \"Done\":\n      temp.status2 = 'New';\n      break;\n    case  \"New\":\n      temp.status2 = 'Doing'\n      break;\n  \n    default:\n      break;\n  }\n  tempData.splice(index,1,temp);\n    localStorage.setItem('data',JSON.stringify(tempData))\n    setRender(!render)\n  }\n  const onHandleChangePage = (e) => {\n    const start = limit * e;\n    const end = start + limit ;\n    setData(tempData.slice(start,end));\n    setActive(e);\n    // if(e === tempPage.length - 1){\n    //   setTempPage(pageNav.slice(e-1,limitPage + e))\n    // }\n  }\n  const onHandleChangeNewTask = () => {\n    setData(tempData.filter((e) => e.status2 === \"New\"))\n  }\n  const onHandlePreClick = () => {\n    if(active === 0) return\n    else onHandleChangePage(active-1);\n    \n  }\n  const onHandleNextClick = () => {\n    if(active === pageNav.length - 1) return\n    else onHandleChangePage(active+1);\n\n  }\n  const onHandleChangeAllTask = () => {\n    setData(tempData)\n   }\n  const onHandleChangeDoingTask = () => {\n    setData(tempData.filter((e) => e.status2 === \"Doing\"))\n  }\n  const onHandleChangeDoneTask = () => {\n    setData(tempData.filter((e) => e.status2 === \"Done\"))\n  }\n  useEffect(() => {\n    setData((localStorage.getItem('data')) ?  JSON.parse(localStorage.getItem('data')) : []);\n    setData(tempData.slice(0,limit))\n    // setActive(0)\n    // if(pageNav.length > limitPage){\n    //   setTempPage(pageNav.slice(0,limitPage))\n    //   }\n    setPage(((JSON.parse(localStorage.getItem('data')).length % limit === 0) ? JSON.parse(localStorage.getItem('data')).length/limit : Math.floor(JSON.parse(localStorage.getItem('data')).length/limit) + 1))\n    console.log(\"load\");\n  }, [localStorage.getItem('data')]);\n\n  return (\n      <>\n    <div className='d-flex'>\n    <div style={{width : \"200px\"}}>\n    <Button onClick={onHandleChangeAllTask} appearance=\"warning\" shouldFitContainer>All Task</Button>\n    <Button onClick={onHandleChangeNewTask} appearance=\"warning\" shouldFitContainer>New Task</Button>\n    <Button onClick={onHandleChangeDoingTask} appearance=\"warning\" shouldFitContainer>Doing Task</Button>\n    <Button onClick={onHandleChangeDoneTask} appearance=\"warning\" shouldFitContainer>Done Task</Button>\n    </div>\n    <AddNew click={props.click}  display2={(props.status) ? \"none\" : \"block\"}/>\n    <div className='flex-wrap p-3 gap-3 w-75' style={{display : (props.status) ? \"flex\" : \"none\"}}>\n    {\n      data.map((e,index) => <Card key={v4()} click={() => onHandleChangeStatus(e,index)} status2={e.status2} title={e.title} Creator={e.Creator} Description={e.Description}/>\n      )\n    }\n    </div>\n    </div>\n  <div className='text-center'>  \n    <Button onClick={onHandlePreClick}>Pre</Button>\n { pageNav.map((e,index) =>  <Button style={{background : (index === active ) ? \"red\" : \"none\"}} onClick={() =>onHandleChangePage(index)} className='mx-2' key={v4()}>{e}</Button>)}\n\n<Button onClick={onHandleNextClick}>Next</Button>\n</div>\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}